<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${resume.personalInformation.fullName} + ' - Resume'">Resume Preview</title>
    <style>
        /* --- SAYFA YAPISI --- */
        @page {
            size: A4;
            margin: 0;
        }
        body {
            background-color: #525659; /* Arkaplan rengi (sadece webde görünür) */
            font-family: "Times New Roman", Times, serif;
            margin: 0;
            padding: 20px;
        }
        .page {
            background-color: white;
            width: 210mm;
            /* min-height PDF'te gerekmez ama web önizleme için kalsın */
            min-height: 297mm;
            padding: 20mm;
            box-sizing: border-box;
            margin: 0 auto; /* Sayfayı ortalar */
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        h1 {
            margin: 0;
            font-size: 32px;
            font-weight: normal;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .contact-info {
            margin-top: 6px;
            font-size: 14px;
        }
        .contact-info span {
            margin: 0 3px;
        }
        a { text-decoration: none; color: black; }

        /* --- BÖLÜM BAŞLIKLARI --- */
        .section-title {
            font-size: 20px;
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 5px;
            text-transform: uppercase;
            /* Flex yerine border-bottom ile çizgi */
            border-bottom: 1px solid black;
            padding-bottom: 2px;
        }

        /* --- TABLO DÜZENİ (FLEX YERİNE) --- */
        /* PDF Motoru için en güvenli hizalama yöntemi */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2px;
        }
        td {
            vertical-align: top;
            padding: 0;
        }
        /* Sol taraf (Okul, Şirket) */
        .td-left {
            text-align: left;
            width: 75%;
        }
        /* Sağ taraf (Tarih, Konum) */
        .td-right {
            text-align: right;
            width: 25%;
            white-space: nowrap; /* Tarihlerin alt satıra kaymasını engeller */
        }

        /* --- METİN STİLLERİ --- */
        .company-name, .project-name { font-weight: bold; font-size: 16px; }
        .role-title, .tech-stack { font-style: italic; font-size: 15px; }
        .location { font-weight: bold; font-size: 15px; }
        .date-range { font-style: italic; font-size: 15px; }

        /* --- LİSTELER --- */
        ul {
            margin: 2px 0 12px 0;
            padding-left: 25px;
        }
        li {
            margin-bottom: 2px;
            font-size: 15px;
            line-height: 1.3;
        }

        /* --- YETENEKLER --- */
        .skills-row {
            margin-bottom: 4px;
            font-size: 15px;
        }
        .skill-label {
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="page">
    <header>
        <h1 th:text="${resume.personalInformation.fullName}">İsim Soyisim</h1>
        <div class="contact-info">
            <span th:text="${resume.personalInformation.phoneNumber}">Telefon</span>

            <span th:if="${resume.personalInformation.email}"> |
                <a th:href="'mailto:' + ${resume.personalInformation.email}" th:text="${resume.personalInformation.email}">Mail</a>
            </span>

            <span th:if="${resume.personalInformation.linkedinUrl}"> |
                <a th:href="'https://' + ${resume.personalInformation.linkedinUrl}" th:text="${resume.personalInformation.linkedinUrl}">Linkedin</a>
            </span>

            <span th:if="${resume.personalInformation.websiteUrl}"> |
                <a th:href="'https://' + ${resume.personalInformation.websiteUrl}" th:text="${resume.personalInformation.websiteUrl}">Web</a>
            </span>

            <span th:if="${resume.personalInformation.githubUrl}"> |
                <a th:href="'https://' + ${resume.personalInformation.githubUrl}" th:text="${resume.personalInformation.githubUrl}">Github</a>
            </span>
        </div>
    </header>

    <div class="section-title">Education</div>
    <table th:each="education : ${resume.educations}">
        <tr>
            <td class="td-left">
                <div th:text="${education.schoolName}" class="company-name">Okul Adı</div>
                <div th:text="${education.educationType} + ', ' + ${education.degree}" class="role-title">Bölüm</div>
            </td>
            <td class="td-right">
                <div th:text="${education.location}" class="location">Konum</div>
                <div th:text="${education.dateRange}" class="date-range">Tarih</div>
            </td>
        </tr>
    </table>


    <div class="section-title">Experience</div>

    <div th:each="job : ${resume.experiences}">
        <table>
            <tr>
                <td class="td-left">
                    <div class="company-name" th:text="${job.companyName}">Şirket</div>
                    <div class="role-title" th:text="${job.title}">Ünvan</div>
                </td>
                <td class="td-right">
                    <div class="location" th:text="${job.location}">Konum</div>
                    <div class="date-range" th:text="${job.startingEndingDate}">Tarih</div>
                </td>
            </tr>
        </table>
        <ul>
            <li th:each="desc : ${job.descriptions}" th:text="${desc}">Açıklama</li>
        </ul>
    </div>


    <div class="section-title">Projects</div>

    <div th:each="project : ${resume.projects}">
        <table>
            <tr>
                <td class="td-left">
                    <span th:text="${project.projectName}" class="project-name">Proje Adı</span> |
                    <span th:text="${project.keyTechnologies}" class="tech-stack">Teknolojiler</span>
                </td>
            </tr>
        </table>
        <ul>
            <li th:each="desc : ${project.descriptions}" th:text="${desc}">Açıklama</li>
        </ul>
    </div>


    <div class="section-title">Skills</div>

    <div class="skills-row">
        <span class="skill-label">Languages:</span>
        <span th:text="${resume.skills.languages}">Diller</span>
    </div>
    <div class="skills-row">
        <span class="skill-label">Frameworks / Libraries / Modules:</span>
        <span th:text="${resume.skills.frameworksLibrariesModules}">Frameworkler</span>
    </div>
    <div class="skills-row">
        <span class="skill-label">Developer Tools:</span>
        <span th:text="${resume.skills.developmentTools}">Araçlar</span>
    </div>

</div>
</body>
</html>